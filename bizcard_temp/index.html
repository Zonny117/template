<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name=”apple-mobile-web-app-capable” content=”yes” />
    <meta name="format-detection" content="telephone=no">

    <meta property="og:type" content="website" />
    <meta property="og:image" content="@@BackgroundCode@@" />
    <meta property="og:title" content="@@ServiceName@@" />
    <meta property="og:description" content="@@TitleSubject@@" />

    <link rel="stylesheet" href="/template/common/css/common.css" type="text/css">
    <link rel="stylesheet" href="/template/common/plugins/swiper/swiper.min.css" type="text/css">
    <link class="favicon" rel="shortcut icon" href="/template/common/images/favicon.ico" type="images/x-icon">

    <link rel="stylesheet" href="/template/bizcard_temp/css/main.css" type="text/css">

    <script src="/template/common/js/jquery-1.11.3.min.js"></script>
    <script src="/template/common/js/jquery-ui.js"></script>
    <script src="/template/common/js/common.js"></script>
    <script src="/template/common/plugins/swiper/swiper.min.js"></script>

    <script src="/template/bizcard_temp/js/main.js"></script>

    <script type="text/javascript" src="/__Common/Scripts/global-default.js"></script>
    <script type="text/javascript"
        src="//dapi.kakao.com/v2/maps/sdk.js?appkey=f756c31eaab61432f56c95420ca49f4f&libraries=services"></script>
    <script src="https://developers.kakao.com/sdk/js/kakao.js"></script>
    <script src="//developers.kakao.com/sdk/js/kakao.min.js"></script>


    <title>@@ServiceName@@</title>

    <script type="text/javascript">
        $(function () {
            $(".lyd_title").html("@@ServiceName@@");
            $(".lyd_address").html("@@Address@@");
            $(".lyd_addressMemo").html(`@@AddressMemo@@`);

            var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
                mapOption = {
                    center: new kakao.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
                    level: 3 // 지도의 확대 레벨
                };

            // 지도를 생성합니다    
            var map = new kakao.maps.Map(mapContainer, mapOption);

            // 주소-좌표 변환 객체를 생성합니다
            var geocoder = new kakao.maps.services.Geocoder();

            // 주소로 좌표를 검색합니다
            geocoder.addressSearch("@@Address@@", function (result, status) {

                // 정상적으로 검색이 완료됐으면 
                if (status === kakao.maps.services.Status.OK) {
                    $("#naviX").val(result[0].x);
                    $("#naviY").val(result[0].y);

                    var coords = new kakao.maps.LatLng(result[0].y, result[0].x);
                    //console.log("map() => X="+result[0].x+", Y="+result[0].y);

                    // 결과값으로 받은 위치를 마커로 표시합니다
                    var marker = new kakao.maps.Marker({
                        map: map,
                        position: coords
                    });

                    // 인포윈도우로 장소에 대한 설명을 표시합니다
                    var infowindow = new kakao.maps.InfoWindow({
                        content: '<div style="width:150px;text-align:center;padding:6px 0;color:#000;">@@ServiceName@@</div>'
                    });
                    infowindow.open(map, marker);

                    // 지도의 중심을 결과값으로 받은 위치로 이동시킵니다
                    map.setCenter(coords);
                }
            });

            $(function () {

                let mod1 = $(".mMod1").css('display');

                if (mod1 === "none") {
                    $(".favicon").attr('href', "/template/common/images/favicon.ico")
                } else(
                    $(".favicon").attr('href', "@@ServiceLogo@@")
                )

            })
        });
    </script>
</head>

<body>
    <input type="hidden" id="naviTargetName" value="@@ServiceName@@">
    <input type="hidden" id="naviX" value="">
    <input type="hidden" id="naviY" value="">

    <div id="wrap">
        <div class="mainslide">
            <div class="swiper-pagination"></div>
            <div class="swiper-wrapper">
                <div class="main swiper-slide">
                    <div class="mMod2">
                        <div class="lbx">
                            <div class="logobx">
                                <h1 class="mMod1" @@DB_RadioLogologo@@>
                                    <img src="@@ServiceLogo@@" alt="로고">
                                </h1>
                                <span class="mMod0" @@DB_RadioLogotitle@@>@@ServiceName@@</span>
                            </div>
                            <div class="maintitlebx">
                                <div class="mMod3" @@DB_TitleYN@@>
                                    <h2>@@TitleSubject@@</h2>
                                    <p class="txt">
                                        @@TitleContents@@
                                    </p>
                                </div>
                                <div class="mMod6" @@DB_DelegateYN@@>
                                    <div class="tit">
                                        <strong><a href="tel:@@DirectCall@@" class="tel">@@DirectCall@@</a></strong>
                                    </div>
                                    <div class="txt">
                                        @@EtcTel@@
                                    </div>
                                </div>
                                <div class="btn_snsbx">
                                    <div class="btn_bx">
                                        <a href="###" class="btn_play" @@DB_YoutubeYN@@>유튜브 재생하기</a>
                                        <a href="###" class="btn_map" @@DB_LocalYN@@>지도 열기</a>
                                    </div>

                                    <div class="mMod11" @@DB_SnsLinkYN@@>
                                        @@SnsLinkUrl@@
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="rbx">
                            <div class="background" style="@@DB_BackgroundYN@@; background-image:url(@@BackgroundCode@@);"></div>
                            <div class="linkbx">
                                <div class="mMod7" @@DB_LinkBtnYN@@>
                                    @@LinkList@@
                                </div>
                                <div class="mMod10" @@DB_AttrYN@@>
                                    <a href="@@AttrFile@@" download>@@AttrLinkBtn@@</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="sub swiper-slide">
                    <div class="pbx">
                        <div class="mod4bx" @@DB_SubYN@@>
                            <div class="mMod4" @@DB_SubYN@@>
                                @@SubList@@
                            </div>
                        </div>
                        <div class="mMod9" @@DB_PhotoYN@@>
                            <div class="swiper-container">
                                <div class="swiper-wrapper">
                                    @@PhotoList@@
                                </div>
                            </div>
                            <div class="swiper-button-next"></div>
                            <div class="swiper-button-prev"></div>
                        </div>
                        <script>
                            var mMod9 = new Swiper(".mMod9 .swiper-container", {
                                loop: true,
                                slidesPerView: 1,
                                spaceBetween: 30,
                                navigation: {
                                    nextEl: ".mMod9 .swiper-button-next",
                                    prevEl: ".mMod9 .swiper-button-prev",
                                },
                            });
                        </script>
                    </div>
                </div>
                <div class="lastslide swiper-slide" @@DB_LocalYN@@>
                    <div class="mMod5" @@DB_LocalYN@@>
                        <div class="txtbx">
                            <strong class="t">찾아오시는 길</strong>
                            <div class="ti">
                                <span>@@Address@@</span>
                            </div>
                            <div class="txt">
                                <div class="tx">
                                    @@AddressMemo@@
                                </div>
                            </div>
                            <a href="javascript:void(0)" class="navi" onclick="navi()">내비게이션 연결</a>
                        </div>
                        <div class="gMap">
                            <div id="map" class="map"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="mod8bx" @@DB_YoutubeYN@@ >
            <div class="mMod8" @@DB_YoutubeYN@@ >
                <a href="###" class="btn_close">닫기</a>
                <div class="iframebx">
                    <iframe src="@@YoutubeUrl@@"
                        title="YouTube video player" frameborder="0" marginwidth="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                    </iframe>
                </div>
            </div>
        </div>

        <div id="jsMod9" class="lMod9" @@DB_PhotoYN@@>
            <a href="###" class="btn_close2">레이어 닫기</a>
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    @@PhotoList@@
                </div>
            </div>
        </div>

        <div class="mSky">
            <span class="ls iTop forWeb"><a href="###" class="ico">페이지 상단으로</a></span>
            <div class="forMobile" @@DB_SnsLinkYN@@>
                <span class="ls iSns"><a href="#jsSky" class="ico jsBtnShow1">Sns 레이어열기</a></span>
                <div id="jsSky" class="lSky">
                    @@SnsLinkUrl@@
                    <a href="#jsSky" class="close jsBtnClose1">Sns 레이어닫기</a>
                </div>
            </div>
            <span class="ls iKakao"><a href="javascript:void(0)" class="ico" id="kakao-link-btn">카카오톡</a></span>
            <span class="banner"></span>
            <span class="ls iAlarm">
                <a href="https://www.hifactory.co.kr/index.asp" target="_blank" class="ico">하이팩토리</a>
                <span class="txt forWeb">하이팩토리 초대공유플랫폼으로 제작된 사이트입니다</span>
            </span>
        </div>
    </div>

    <script type='text/javascript'>
        // // 사용할 앱의 JavaScript 키를 설정해 주세요.
        Kakao.init('f756c31eaab61432f56c95420ca49f4f');
        // // 카카오링크 버튼을 생성합니다. 처음 한번만 호출하면 됩니다.
        Kakao.Link.createDefaultButton({
            container: '#kakao-link-btn',
            objectType: 'feed',
            content: {
                title: '@@ServiceName@@',
                description: `@@TitleSubject@@`,
                imageUrl: '$$GC_SERVERIPSSL$$@@BackgroundCode@@',
                link: {
                    mobileWebUrl: '@@KakaoLikeUrl@@',
                    webUrl: '@@KakaoLikeUrl@@'
                }
            },
        });

        //[시작] 2021-12-16 Ver:2 추가한 내용
        function navi() {
            console.log("navi() => naviX=" + $("#naviX").val() + ", naviY=" + $("#naviY").val());
            var option = {
                name: $("#naviTargetName").val(),
                x: parseFloat($("#naviX").val()),
                y: parseFloat($("#naviY").val()),
                coordType: 'wgs84',
            };

            Kakao.Navi.start(option);
        }
        // SDK 초기화 여부를 판단합니다.
        console.log(Kakao.isInitialized());
    </script>

    <script type='text/javascript'>
        $.ajax({
            async: true,
            type: 'post',
            url: '/API/banner.asp',
            data: {
                "guid": $("#guid").val()
            },
            beforeSend: function () {
                //$('.wrap-loading').removeClass('display-none');
                console.log("배너로딩");
            },
            complete: function () {
                //$('.wrap-loading').addClass('display-none');
                console.log("배너로딩 완료");
                //$(".gInviation1").show();
            },
            success: function (data) {
                var datas = JSON.parse(data);
                $(".banner").empty();
                $(".banner").append(``);
            },
            error: function (xhr, status, error) {
                alert("error=" + error);
            }
        });
    </script>
</body>

</html>